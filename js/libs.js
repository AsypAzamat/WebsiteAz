!function(a,t){function o(a,o,n){if(a.length<1)return console.error("ajaxCustom block not found: "+a.attr("id")),!1;a.addClass("ajaxCustomPreload"),t.ajax({url:dle_root+"engine/mods/custom/ajax.php",type:"POST",dataType:"html",data:o}).done((function(a){n(a),t("[data-src], [data-bg]").each((function(){var a=t(this),o=a.data("src"),n=a.data("bg");o?a.removeAttr("data-src").attr("src",o):n&&a.css("background-image","url('"+n+"')").removeAttr("data-bg")}))})).fail((function(a){DLEalert(a.responseText,dle_info)})).always((function(){a.removeClass("ajaxCustomPreload")}))}function n(a,n,s){var e=t("#ajaxCustom-"+a);return o(e,{name:a,cstart:n,action:"getpage"},(function(a){"more"==s||"lazy"==s?(e.find(".js-custom-content").append(t(".js-custom-content",a).html()),e.find(".js-custom-navigation").html(t(".js-custom-navigation",a).html()),"lazy"==s&&t(window).lazyLoadXT()):(e.html(a),t(window).scrollTop()>e.offset().top&&t("html,body").animate({scrollTop:e.offset().top}))})),!1}t(document).on("click",".js-custom-navigation a",(function(a){if(a.preventDefault(),t(this).hasClass("disabled"))return!1;var o=t(this).parents(".js-custom-navigation");o.find("a").addClass("disabled"),n(o.data("name"),t(this).data("page"),o.data("type"))})).on("click","[data-customload]",(function(){a.show(t(this).data("customload")),t(this).removeAttr("data-customload")})),a.show=function(a,n){var s=n||t("#ajaxCustom-holder-"+a);return o(s,{name:a,action:"init"},(function(a){s.replaceWith(a)})),!1},t((function(){if(void 0!==t.lazyLoadXT){var a=t.lazyLoadXT;a.selector+=",[data-custom]",a.selector+=",[data-lazypage]",t(document).on("lazyshow",(function(a){var o=t(a.target),s=o.data("custom"),e=o.data("lazypage");s&&ajaxCustom.show(s,o),e&&n(o.closest(".js-custom-navigation").data("name"),e,"lazy")}))}}))}(window.ajaxCustom=window.ajaxCustom||{},window.jQuery);